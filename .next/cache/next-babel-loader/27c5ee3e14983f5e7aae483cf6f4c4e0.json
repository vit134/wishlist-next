{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { wishesRequest } from '../../src/requests';\nimport Link from 'next/link';\nimport { Table } from 'react-bootstrap';\nimport { Image } from '../../src/components/image';\n\nvar ProfilePage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ProfilePage, _React$Component);\n\n  function ProfilePage() {\n    _classCallCheck(this, ProfilePage);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ProfilePage).apply(this, arguments));\n  }\n\n  _createClass(ProfilePage, [{\n    key: \"render\",\n    value: function render() {\n      var wishes = this.props.wishes;\n      var data = wishes.data;\n      return __jsx(Table, {\n        striped: true,\n        bordered: true,\n        hover: true\n      }, __jsx(\"thead\", null, __jsx(\"tr\", null, __jsx(\"th\", null, \"#\"), __jsx(\"th\", null, \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"), __jsx(\"th\", null, \"\\u0426\\u0435\\u043D\\u0430\"), __jsx(\"th\", null, \"\\u0411\\u0440\\u043E\\u043D\\u044C\"))), __jsx(\"tbody\", null, data.map(function (el, ind) {\n        return __jsx(\"tr\", {\n          key: el._id\n        }, __jsx(\"td\", null, ind + 1), __jsx(\"td\", null, el.image && __jsx(\"span\", {\n          style: {\n            display: 'inline-block',\n            maxWidth: '40px',\n            marginRight: '10px'\n          }\n        }, __jsx(Image, {\n          src: el.image,\n          size: 50,\n          crop: true\n        })), __jsx(Link, {\n          href: \"/wish/\".concat(el._id)\n        }, el.name)), __jsx(\"td\", null, el.price), __jsx(\"td\", null, el.assigned && el.assigned));\n      })));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(_ref) {\n        var req, res, data, _res;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                req = _ref.req, res = _ref.res;\n                data = {}; // let props = await super.getInitialProps({ req });\n\n                if (!(req.user && req.user._id)) {\n                  _context.next = 13;\n                  break;\n                }\n\n                _context.prev = 3;\n                _context.next = 6;\n                return wishesRequest(req.user._id);\n\n              case 6:\n                _res = _context.sent;\n                data = _res.data;\n                _context.next = 13;\n                break;\n\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context[\"catch\"](3);\n                data.err = _context.t0;\n\n              case 13:\n                return _context.abrupt(\"return\", {\n                  wishes: data\n                });\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[3, 10]]);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return ProfilePage;\n}(React.Component);\n\n;\nexport default ProfilePage;","map":null,"metadata":{},"sourceType":"module"}