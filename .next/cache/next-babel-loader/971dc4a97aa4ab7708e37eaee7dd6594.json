{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport { wishesRequest } from '../../src/requests';\nimport Link from 'next/link';\nimport { Table } from 'react-bootstrap';\nimport { Image } from '../../src/components/image';\n\nclass ProfilePage extends React.Component {\n  static async getInitialProps({\n    req,\n    res\n  }) {\n    let data = {}; // let props = await super.getInitialProps({ req });\n\n    if (req.user && req.user._id) {\n      try {\n        const res = await wishesRequest(req.user._id);\n        data = res.data;\n      } catch (e) {\n        data.err = e;\n      }\n    }\n\n    return {\n      wishes: data\n    };\n  }\n\n  render() {\n    const {\n      wishes\n    } = this.props;\n    const {\n      data\n    } = wishes;\n    return __jsx(Table, {\n      striped: true,\n      bordered: true,\n      hover: true\n    }, __jsx(\"thead\", null, __jsx(\"tr\", null, __jsx(\"th\", null, \"#\"), __jsx(\"th\", null, \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"), __jsx(\"th\", null, \"\\u0426\\u0435\\u043D\\u0430\"), __jsx(\"th\", null, \"\\u0411\\u0440\\u043E\\u043D\\u044C\"))), __jsx(\"tbody\", null, data.map((el, ind) => {\n      return __jsx(\"tr\", {\n        key: el._id\n      }, __jsx(\"td\", null, ind + 1), __jsx(\"td\", null, el.image && __jsx(\"span\", {\n        style: {\n          display: 'inline-block',\n          maxWidth: '40px',\n          marginRight: '10px'\n        }\n      }, __jsx(Image, {\n        src: el.image,\n        size: 50,\n        crop: true\n      })), __jsx(Link, {\n        href: `/wish/${el._id}`\n      }, el.name)), __jsx(\"td\", null, el.price), __jsx(\"td\", null, el.assigned && el.assigned));\n    })));\n  }\n\n}\n\n;\nexport default ProfilePage;","map":{"version":3,"sources":["/Users/viandryushkov/my/ssr-wishlist/pages/profile/index.js"],"names":["React","wishesRequest","Link","Table","Image","ProfilePage","Component","getInitialProps","req","res","data","user","_id","e","err","wishes","render","props","map","el","ind","image","display","maxWidth","marginRight","name","price","assigned"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,QAA8B,oBAA9B;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,KAAT,QAAsB,iBAAtB;AACA,SAASC,KAAT,QAAsB,4BAAtB;;AAEA,MAAMC,WAAN,SAA0BL,KAAK,CAACM,SAAhC,CAA0C;AACxC,eAAaC,eAAb,CAA8B;AAAEC,IAAAA,GAAF;AAAOC,IAAAA;AAAP,GAA9B,EAA4C;AAC1C,QAAIC,IAAI,GAAG,EAAX,CAD0C,CAG1C;;AACA,QAAIF,GAAG,CAACG,IAAJ,IAAYH,GAAG,CAACG,IAAJ,CAASC,GAAzB,EAA8B;AAC5B,UAAI;AACF,cAAMH,GAAG,GAAG,MAAMR,aAAa,CAACO,GAAG,CAACG,IAAJ,CAASC,GAAV,CAA/B;AACAF,QAAAA,IAAI,GAAGD,GAAG,CAACC,IAAX;AACD,OAHD,CAGE,OAAOG,CAAP,EAAU;AACVH,QAAAA,IAAI,CAACI,GAAL,GAAWD,CAAX;AACD;AACF;;AAED,WAAO;AAAEE,MAAAA,MAAM,EAAEL;AAAV,KAAP;AACD;;AAEDM,EAAAA,MAAM,GAAI;AACR,UAAM;AAAED,MAAAA;AAAF,QAAa,KAAKE,KAAxB;AACA,UAAM;AAAEP,MAAAA;AAAF,QAAWK,MAAjB;AAEA,WACE,MAAC,KAAD;AAAO,MAAA,OAAO,MAAd;AAAe,MAAA,QAAQ,MAAvB;AAAwB,MAAA,KAAK;AAA7B,OACE,qBACE,kBACE,sBADF,EAEE,qEAFF,EAGE,6CAHF,EAIE,mDAJF,CADF,CADF,EASE,qBAEIL,IAAI,CAACQ,GAAL,CAAS,CAACC,EAAD,EAAKC,GAAL,KAAa;AACpB,aACE;AAAI,QAAA,GAAG,EAAED,EAAE,CAACP;AAAZ,SACE,kBAAKQ,GAAG,GAAG,CAAX,CADF,EAEE,kBACGD,EAAE,CAACE,KAAH,IACC;AAAM,QAAA,KAAK,EAAE;AAAEC,UAAAA,OAAO,EAAE,cAAX;AAA2BC,UAAAA,QAAQ,EAAE,MAArC;AAA6CC,UAAAA,WAAW,EAAE;AAA1D;AAAb,SACE,MAAC,KAAD;AAAO,QAAA,GAAG,EAAEL,EAAE,CAACE,KAAf;AAAsB,QAAA,IAAI,EAAE,EAA5B;AAAgC,QAAA,IAAI;AAApC,QADF,CAFJ,EAME,MAAC,IAAD;AAAM,QAAA,IAAI,EAAG,SAAQF,EAAE,CAACP,GAAI;AAA5B,SAAiCO,EAAE,CAACM,IAApC,CANF,CAFF,EASE,kBAAMN,EAAE,CAACO,KAAT,CATF,EAUE,kBAAMP,EAAE,CAACQ,QAAH,IAAeR,EAAE,CAACQ,QAAxB,CAVF,CADF;AAcD,KAfD,CAFJ,CATF,CADF;AAgCD;;AArDuC;;AAsDzC;AAED,eAAetB,WAAf","sourcesContent":["import React from 'react';\nimport { wishesRequest } from '../../src/requests';\nimport Link from 'next/link';\nimport { Table } from 'react-bootstrap';\nimport { Image } from '../../src/components/image';\n\nclass ProfilePage extends React.Component {\n  static async getInitialProps ({ req, res }) {\n    let data = {};\n\n    // let props = await super.getInitialProps({ req });\n    if (req.user && req.user._id) {\n      try {\n        const res = await wishesRequest(req.user._id);\n        data = res.data;\n      } catch (e) {\n        data.err = e;\n      }\n    }\n\n    return { wishes: data };\n  }\n\n  render () {\n    const { wishes } = this.props;\n    const { data } = wishes;\n\n    return (\n      <Table striped bordered hover>\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Название</th>\n            <th>Цена</th>\n            <th>Бронь</th>\n          </tr>\n        </thead>\n        <tbody>\n          {\n            data.map((el, ind) => {\n              return (\n                <tr key={el._id}>\n                  <td>{ind + 1}</td>\n                  <td>\n                    {el.image && (\n                      <span style={{ display: 'inline-block', maxWidth: '40px', marginRight: '10px' }}>\n                        <Image src={el.image} size={50} crop/>\n                      </span>\n                    )}\n                    <Link href={`/wish/${el._id}`}>{ el.name }</Link></td>\n                  <td>{ el.price }</td>\n                  <td>{ el.assigned && el.assigned }</td>\n                </tr>\n              );\n            })\n          }\n        </tbody>\n      </Table>\n    );\n  }\n};\n\nexport default ProfilePage;\n"]},"metadata":{},"sourceType":"module"}